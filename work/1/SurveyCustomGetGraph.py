import numpy as np
import matplotlib.pyplot as plt
import matplotlib.patches as patches

grid=[
    
        
    "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111100000000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111100000000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111100000000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111100000000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111100000000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111100000000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111100000000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111100000000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111100000000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111100000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111100000000000000000000000000000000000000000000000000000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000111111111111111111111111111111111111111111111111111111111111111111111111111000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
        "0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
]

width = 100
height = 100
m = 10
n = 10
final_step = 50
half_step = final_step/2

def getGraph():
    """
    fig=plt.figure(figsize=(7,7))
    ax=plt.axes()
    data_set = np.loadtxt(
        fname = "./csv_proposal/step0.csv",
        dtype = int,
        delimiter = ","
    )
    for i in range(height):
        for j in range(width):
            ax.add_patch(patches.Rectangle(xy=(i-0.5,j-0.5),width=1,height=1,fc="#000000"))

    for data in data_set:
        if grid[data[1]][data[0]] == "1":
            ax.add_patch(patches.Rectangle(xy=(data[0]-0.5, data[1]-0.5),width=0.5,height=0.5,fc="#5aff19"))
        else :
            ax.add_patch(patches.Rectangle(xy=(data[0]-0.5, data[1]-0.5),width=0.5,height=0.5,fc="#ff0000"))
    plt.axis("scaled")
    ax.set_aspect("equal")
    ax.axis("off")
    fig.subplots_adjust(left=0, right=1, bottom=0, top=1)
    ax.invert_yaxis()
    fig.savefig("./pics_renewal/step0.png")
    plt.close()

    fig=plt.figure(figsize=(7,7))
    ax=plt.axes()

    data_set2 = np.loadtxt(
        fname = "./csv_proposal/step"+str(half_step)+".csv",
        dtype = int,
        delimiter = ","
    )
    for i in range(height):
        for j in range(width):
            ax.add_patch(patches.Rectangle(xy=(i-0.5,j-0.5),width=1,height=1,fc="#000000"))

    for data in data_set2:
        if grid[data[1]][data[0]] == "1":
            ax.add_patch(patches.Rectangle(xy=(data[0]-0.5, data[1]-0.5),width=0.5,height=0.5,fc="#5aff19"))
        else :
            ax.add_patch(patches.Rectangle(xy=(data[0]-0.5, data[1]-0.5),width=0.5,height=0.5,fc="#ff0000"))
    plt.axis("scaled")
    ax.set_aspect("equal")
    ax.axis("off")
    fig.subplots_adjust(left=0, right=1, bottom=0, top=1)
    ax.invert_yaxis()
    fig.savefig("./pics_renewal/step"+str(half_step)+".png")
    plt.close()
    """

    for k in range(final_step+1):
        fig=plt.figure(figsize=(7,7))
        ax=plt.axes()

        data_set3 = np.loadtxt(
            fname = "./csv_multi/step"+str(k)+".csv",
            dtype = int,
            delimiter = ",",
            usecols=[0,1,4,5,2]
        )

        for i in range(n):
            if(i!=0):
                plt.plot([0-0.5, width-0.5], [i*(height/n)-0.5, i*(height/n)-0.5], linewidth=0.5, color="black", alpha=0.5)
        for j in range(m):
            if(j!=0):
                plt.plot([j*(width/m)-0.5, j*(width/m)-0.5], [0-0.5, height-0.5], linewidth=0.5, color="black", alpha=0.5)
        
        for i in range(height):
            for j in range(width):
                ax.add_patch(patches.Rectangle(xy=(i-0.5,j-0.5),width=1,height=1,fc="lightgray"))


        for data in data_set3:
            if grid[data[1]][data[0]] == "1":
                ax.add_patch(patches.Circle(xy=(data[0], data[1]),radius=0.25,fc="blue"))
                if data[2] != -1:
                    if data[4] == 1:
                        plt.plot([data[0], data[2]], [data[1], data[3]], linewidth=0.1, color="green")
                    elif data[4] == 2:
                        plt.plot([data[0], data[2]], [data[1], data[3]], linewidth=0.1, color="red")
            else :
                ax.add_patch(patches.Circle(xy=(data[0], data[1]),radius=0.25,fc="red"))
                if data[2] != -1:
                    if data[4] == 1:
                        plt.plot([data[0], data[2]], [data[1], data[3]], linewidth=0.1, color="green")
                    elif data[4] == 2:
                        plt.plot([data[0], data[2]], [data[1], data[3]], linewidth=0.1, color="red")
        plt.axis("scaled")
        ax.set_aspect("equal")
        ax.axis("off")
        fig.subplots_adjust(left=0, right=1, bottom=0, top=1)
        ax.invert_yaxis()
        fig.savefig("./pics_survey/step"+str(k)+".png")

        plt.close()

getGraph()
    